extends ../layout/app_ng

block content
  h2 Task ID: #{taskId}
  hr
  
  .panel.panel-default
    .panel-heading
      h3.panel-title #{taskId}
    .panel-body 
      #task-template(ng-controller="TaskController")
        form(method="post", action="/processes/instances/#{instance.getId()}/task/#{taskId}")
          input(type="hidden", name='_csrf', value='#{_csrf.token}')
          !{templateHtml}
          button.btn.btn-default.btn-block(type="submit") Commit
          
  
  script
    var entity = '!{entity}';
    entity = eval('(' + entity + ')');
    var schema = '!{schema}';
    schema = eval('(' + schema + ')');
    
    angular.module('app', [])
      .controller('TaskController', function($scope){
        $scope.entity = entity;
        
      });
